<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>cctools: batch_job.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_7afb20efd3222486f618d55c1155b0c9.html">dttools</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_6c8716ef915dcad8c2de740107ec87f7.html">src</a></div>
<h1>batch_job.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Batch job submission. 
<p>
This module implements batch job submission to multiple systems, including Condor, SGE, Work Queue, and local Unix processes. This simplifies the construction of parallel abstractions that need a simple form of parallel process execution. 
<p>
<code>#include &lt;time.h&gt;</code><br>

<p>
<a href="batch__job_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbatch__job__info.html">batch_job_info</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describes a batch job when it has completed.  <a href="structbatch__job__info.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An integer type indicating a unique batch job number.  <a href="#af4bd67098f49cd39d18ba9cdf61d79b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2eefb9e678ce844ddefb83221745b01d7">BATCH_QUEUE_TYPE_UNKNOWN</a> = -1, 
<br>
&nbsp;&nbsp;<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2e0f8d1799be46782be70c84d4b27b5dd">BATCH_QUEUE_TYPE_UNIX</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f244e1071d1271c618525f8f21c733a708">BATCH_QUEUE_TYPE_CONDOR</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2825a77ad4c0d74a332550be46823509f">BATCH_QUEUE_TYPE_SGE</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f22fde1a43a41e34e89c93466c31abc312">BATCH_QUEUE_TYPE_WORK_QUEUE</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates which type of batch submission to use.  <a href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">batch_queue *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#09dafd1d578b4fa44daaf45df9a2358e">batch_queue_create</a> (<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a> type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new batch queue.  <a href="#09dafd1d578b4fa44daaf45df9a2358e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#88bce24a2c06cf4419564b1e1fe2c3fe">batch_job_submit_simple</a> (struct batch_queue *q, const char *cmdline, const char *input_files, const char *output_files)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Submit a simple batch job.  <a href="#88bce24a2c06cf4419564b1e1fe2c3fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#6e0a9cad75c686c8ac39a2acd364e73d">batch_job_submit</a> (struct batch_queue *q, const char *cmd, const char *args, const char *infile, const char *outfile, const char *errfile, const char *extra_input_files, const char *extra_output_files)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Submit a batch job.  <a href="#6e0a9cad75c686c8ac39a2acd364e73d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#33e5fce9cc936c4c1d21ac8260f6b4a6">batch_job_wait</a> (struct batch_queue *q, struct <a class="el" href="structbatch__job__info.html">batch_job_info</a> *info)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for any batch job to complete.  <a href="#33e5fce9cc936c4c1d21ac8260f6b4a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#e66fab44b4b5f3603a65faf4cf2593cc">batch_job_wait_timeout</a> (struct batch_queue *q, struct <a class="el" href="structbatch__job__info.html">batch_job_info</a> *info, time_t stoptime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for any batch job to complete, with a timeout.  <a href="#e66fab44b4b5f3603a65faf4cf2593cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#69c4de195b6d1bb1b944fabef748f8ae">batch_job_remove</a> (struct batch_queue *q, <a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a> jobid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a batch job.  <a href="#69c4de195b6d1bb1b944fabef748f8ae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#e23fda451045b518162411fd25d5b137">batch_queue_type_from_string</a> (const char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts a string into a batch queue type.  <a href="#e23fda451045b518162411fd25d5b137"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#0c7dbd8ccd18e46e120bafe70b88553e">batch_queue_type_to_string</a> (<a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a> t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts a batch queue type to a string.  <a href="#0c7dbd8ccd18e46e120bafe70b88553e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#85221274e7fe00955f245fed424166de">batch_queue_set_logfile</a> (struct batch_queue *q, const char *logfile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the log file used by the batch queue.  <a href="#85221274e7fe00955f245fed424166de"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#082efa9b9ea7b9c05609380b0997bd4c">batch_queue_set_options</a> (struct batch_queue *q, const char *options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add extra options to pass to the underlying batch system.  <a href="#082efa9b9ea7b9c05609380b0997bd4c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#f716bb722422ed85ee94de279e941ed0">batch_queue_delete</a> (struct batch_queue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a batch queue.  <a href="#f716bb722422ed85ee94de279e941ed0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="batch__job_8h.html#c03b35c411e368f7a3522b24b4ff9826">batch_queue_type_string</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return Returns the list of queue types supported by this module.  <a href="#c03b35c411e368f7a3522b24b4ff9826"></a><br></td></tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="af4bd67098f49cd39d18ba9cdf61d79b"></a><!-- doxytag: member="batch_job.h::batch_job_id_t" ref="af4bd67098f49cd39d18ba9cdf61d79b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An integer type indicating a unique batch job number. 
<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f2"></a><!-- doxytag: member="batch_job.h::batch_queue_type_t" ref="d51a9e6e30ee3abf8398922c3052d0f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indicates which type of batch submission to use. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f2eefb9e678ce844ddefb83221745b01d7"></a><!-- doxytag: member="BATCH_QUEUE_TYPE_UNKNOWN" ref="d51a9e6e30ee3abf8398922c3052d0f2eefb9e678ce844ddefb83221745b01d7" args="" -->BATCH_QUEUE_TYPE_UNKNOWN</em>&nbsp;</td><td>
An invalid batch queue type. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f2e0f8d1799be46782be70c84d4b27b5dd"></a><!-- doxytag: member="BATCH_QUEUE_TYPE_UNIX" ref="d51a9e6e30ee3abf8398922c3052d0f2e0f8d1799be46782be70c84d4b27b5dd" args="" -->BATCH_QUEUE_TYPE_UNIX</em>&nbsp;</td><td>
Batch jobs will run as local Unix processes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f244e1071d1271c618525f8f21c733a708"></a><!-- doxytag: member="BATCH_QUEUE_TYPE_CONDOR" ref="d51a9e6e30ee3abf8398922c3052d0f244e1071d1271c618525f8f21c733a708" args="" -->BATCH_QUEUE_TYPE_CONDOR</em>&nbsp;</td><td>
Batch jobs will be sent to Condor pool. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f2825a77ad4c0d74a332550be46823509f"></a><!-- doxytag: member="BATCH_QUEUE_TYPE_SGE" ref="d51a9e6e30ee3abf8398922c3052d0f2825a77ad4c0d74a332550be46823509f" args="" -->BATCH_QUEUE_TYPE_SGE</em>&nbsp;</td><td>
Batch jobs will be sent to Sun Grid Engine. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="d51a9e6e30ee3abf8398922c3052d0f22fde1a43a41e34e89c93466c31abc312"></a><!-- doxytag: member="BATCH_QUEUE_TYPE_WORK_QUEUE" ref="d51a9e6e30ee3abf8398922c3052d0f22fde1a43a41e34e89c93466c31abc312" args="" -->BATCH_QUEUE_TYPE_WORK_QUEUE</em>&nbsp;</td><td>
Batch jobs will be send to the Work Queue. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="09dafd1d578b4fa44daaf45df9a2358e"></a><!-- doxytag: member="batch_job.h::batch_queue_create" ref="09dafd1d578b4fa44daaf45df9a2358e" args="(batch_queue_type_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct batch_queue* batch_queue_create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new batch queue. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type of the queue. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A new batch queue object on success, null on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="88bce24a2c06cf4419564b1e1fe2c3fe"></a><!-- doxytag: member="batch_job.h::batch_job_submit_simple" ref="88bce24a2c06cf4419564b1e1fe2c3fe" args="(struct batch_queue *q, const char *cmdline, const char *input_files, const char *output_files)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a> batch_job_submit_simple           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>cmdline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>input_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>output_files</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Submit a simple batch job. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to submit to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmdline</em>&nbsp;</td><td>The command line to execute. This line will be interpreted by the shell, so it may include output redirection, multiple commands, pipes, and so forth. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>input_files</em>&nbsp;</td><td>A comma separated list of all input files that will be required by the job. Null pointer is equivalent to empty string. This must also include the executable and any dependent programs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output_files</em>&nbsp;</td><td>A comma separated list of all output files to retrieve from the job. Null pointer is equivalent to empty string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>On success, returns a unique identifier for the batch job. On failure, returns a negative number. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6e0a9cad75c686c8ac39a2acd364e73d"></a><!-- doxytag: member="batch_job.h::batch_job_submit" ref="6e0a9cad75c686c8ac39a2acd364e73d" args="(struct batch_queue *q, const char *cmd, const char *args, const char *infile, const char *outfile, const char *errfile, const char *extra_input_files, const char *extra_output_files)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a> batch_job_submit           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>infile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>extra_input_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>extra_output_files</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Submit a batch job. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to submit to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>The command to execute. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>The command line arguments. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>infile</em>&nbsp;</td><td>The standard input file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outfile</em>&nbsp;</td><td>The standard output file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errfile</em>&nbsp;</td><td>The standard error file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>extra_input_files</em>&nbsp;</td><td>A comma separated list of extra input files that will be required by the job. Null pointer is equivalent to empty string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>extra_output_files</em>&nbsp;</td><td>A comma separated list of extra output files to retrieve from the job. Null pointer is equivalent to empty string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>On success, returns a unique positive jobid. Zero or a negative number indicates a failure to submit this job. </dd></dl>

</div>
</div><p>
<a class="anchor" name="33e5fce9cc936c4c1d21ac8260f6b4a6"></a><!-- doxytag: member="batch_job.h::batch_job_wait" ref="33e5fce9cc936c4c1d21ac8260f6b4a6" args="(struct batch_queue *q, struct batch_job_info *info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a> batch_job_wait           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbatch__job__info.html">batch_job_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait for any batch job to complete. 
<p>
Blocks until a batch job completes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to wait on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Pointer to a <a class="el" href="structbatch__job__info.html">batch_job_info</a> structure that will be filled in with the details of the completed job. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>If greater than zero, indicates the jobid of the completed job. If equal to zero, there were no more jobs to wait for. If less than zero, the operation was interrupted by a system event, but may be tried again. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e66fab44b4b5f3603a65faf4cf2593cc"></a><!-- doxytag: member="batch_job.h::batch_job_wait_timeout" ref="e66fab44b4b5f3603a65faf4cf2593cc" args="(struct batch_queue *q, struct batch_job_info *info, time_t stoptime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a> batch_job_wait_timeout           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbatch__job__info.html">batch_job_info</a> *&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&nbsp;</td>
          <td class="paramname"> <em>stoptime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait for any batch job to complete, with a timeout. 
<p>
Blocks until a batch job completes or the current time exceeds stoptime. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to wait on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>info</em>&nbsp;</td><td>Pointer to a <a class="el" href="structbatch__job__info.html">batch_job_info</a> structure that will be filled in with the details of the completed job. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stoptime</em>&nbsp;</td><td>An absolute time at which to stop waiting. If less than or equal to the current time, then this function will check for a complete job but will not block. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>If greater than zero, indicates the jobid of the completed job. If equal to zero, there were no more jobs to wait for. If less than zero, the operation timed out or was interrupted by a system event, but may be tried again. </dd></dl>

</div>
</div><p>
<a class="anchor" name="69c4de195b6d1bb1b944fabef748f8ae"></a><!-- doxytag: member="batch_job.h::batch_job_remove" ref="69c4de195b6d1bb1b944fabef748f8ae" args="(struct batch_queue *q, batch_job_id_t jobid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int batch_job_remove           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="batch__job_8h.html#af4bd67098f49cd39d18ba9cdf61d79b">batch_job_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>jobid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a batch job. 
<p>
This call will start the removal process. You must still call <a class="el" href="batch__job_8h.html#33e5fce9cc936c4c1d21ac8260f6b4a6">batch_job_wait</a> to wait for the removal to complete. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to remove from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jobid</em>&nbsp;</td><td>The job to be removed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Greater than zero if the job exists and was removed, zero otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e23fda451045b518162411fd25d5b137"></a><!-- doxytag: member="batch_job.h::batch_queue_type_from_string" ref="e23fda451045b518162411fd25d5b137" args="(const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a> batch_queue_type_from_string           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts a string into a batch queue type. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>A string indicating the work queue type, which may be "unix", "condor", "sge", or "wq". </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The batch queue type corresponding to the string, or BATCH_QUEUE_TYPE_UNKNOWN if the string is invalid. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0c7dbd8ccd18e46e120bafe70b88553e"></a><!-- doxytag: member="batch_job.h::batch_queue_type_to_string" ref="0c7dbd8ccd18e46e120bafe70b88553e" args="(batch_queue_type_t t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* batch_queue_type_to_string           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a>&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts a batch queue type to a string. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>A <a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2">batch_queue_type_t</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A string corresponding to the batch queue type. </dd></dl>

</div>
</div><p>
<a class="anchor" name="85221274e7fe00955f245fed424166de"></a><!-- doxytag: member="batch_job.h::batch_queue_set_logfile" ref="85221274e7fe00955f245fed424166de" args="(struct batch_queue *q, const char *logfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batch_queue_set_logfile           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logfile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the log file used by the batch queue. 
<p>
This is an optional call that will only affect batch queue types that use an internal logfile; currently only Condor. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The batch queue to adjust. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>logfile</em>&nbsp;</td><td>Name of the logfile to use. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="082efa9b9ea7b9c05609380b0997bd4c"></a><!-- doxytag: member="batch_job.h::batch_queue_set_options" ref="082efa9b9ea7b9c05609380b0997bd4c" args="(struct batch_queue *q, const char *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batch_queue_set_options           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>options</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add extra options to pass to the underlying batch system. 
<p>
This call specifies additional options to be passed to the batch system each time a job is submitted. It may be called once to apply to all subsequent jobs, or it may be called before each submission. If the queue type is <a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f244e1071d1271c618525f8f21c733a708">BATCH_QUEUE_TYPE_CONDOR</a>, the options must be valid submit file properties like <code>requirements = (Memory&gt;100)</code>. If the batch queue type is <a class="el" href="batch__job_8h.html#d51a9e6e30ee3abf8398922c3052d0f2825a77ad4c0d74a332550be46823509f">BATCH_QUEUE_TYPE_SGE</a>, the extra text will be added as options to the <code>qsub</code> command. This call has no effect on other queue types. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The batch queue to adjust. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>The options to pass to the batch system. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f716bb722422ed85ee94de279e941ed0"></a><!-- doxytag: member="batch_job.h::batch_queue_delete" ref="f716bb722422ed85ee94de279e941ed0" args="(struct batch_queue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batch_queue_delete           </td>
          <td>(</td>
          <td class="paramtype">struct batch_queue *&nbsp;</td>
          <td class="paramname"> <em>q</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a batch queue. 
<p>
Note that this function just destroys the internal data structures, it does not abort running jobs. To properly clean up running jobs, you must call <a class="el" href="batch__job_8h.html#33e5fce9cc936c4c1d21ac8260f6b4a6">batch_job_wait</a> until it returns zero, or call <a class="el" href="batch__job_8h.html#69c4de195b6d1bb1b944fabef748f8ae">batch_job_remove</a> on all runnings jobs. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>The queue to delete. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c03b35c411e368f7a3522b24b4ff9826"></a><!-- doxytag: member="batch_job.h::batch_queue_type_string" ref="c03b35c411e368f7a3522b24b4ff9826" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* batch_queue_type_string           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return Returns the list of queue types supported by this module. 
<p>
Useful for including in help-option outputs. <dl compact><dt><b>Returns:</b></dt><dd>A static string listing the types of queues supported. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Mar 29 15:56:18 2010 for cctools by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>

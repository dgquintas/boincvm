<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>cctools: link.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_7afb20efd3222486f618d55c1155b0c9.html">dttools</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_6c8716ef915dcad8c2de740107ec87f7.html">src</a></div>
<h1>link.h</h1><a href="link_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">Copyright (C) 2003-2004 Douglas Thain and the University of Wisconsin</span>
<a name="l00003"></a>00003 <span class="comment">Copyright (C) 2005- The University of Notre Dame</span>
<a name="l00004"></a>00004 <span class="comment">This software is distributed under the GNU General Public License.</span>
<a name="l00005"></a>00005 <span class="comment">See the file COPYING for details.</span>
<a name="l00006"></a>00006 <span class="comment">*/</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#ifndef LINK_H</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#define LINK_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "int_sizes.h"</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;limits.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00050"></a>00050 
<a name="l00052"></a><a class="code" href="link_8h.html#ee1eac35b3b0cc6899cdc3ee0af78f4e">00052</a> <span class="preprocessor">#define LINK_ADDRESS_MAX 48</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="link_8h.html#a76c893b5d09fa568b93572e96e14f12">00055</a> <span class="preprocessor">#define LINK_PORT_ANY 0</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00058"></a><a class="code" href="link_8h.html#e45ac49c99cde97c10671966d8ea1ecb">00058</a> <span class="preprocessor">#define LINK_FOREVER ((time_t)INT_MAX)</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00066"></a>00066 <span class="keyword">struct </span>link * <a class="code" href="link_8h.html#320c480103b59a4048d22cdc5329004c">link_connect</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *addr, <span class="keywordtype">int</span> port, time_t stoptime );
<a name="l00067"></a>00067 
<a name="l00074"></a>00074 <span class="keyword">struct </span>link * <a class="code" href="link_8h.html#9d76a3da9666eb0788ee1a5887d0627d">link_serve</a>( <span class="keywordtype">int</span> port );
<a name="l00075"></a>00075 
<a name="l00083"></a>00083 <span class="keyword">struct </span>link * <a class="code" href="link_8h.html#cd32b7ea948942d215442cc21ed04565">link_serve_address</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *addr, <span class="keywordtype">int</span> port );
<a name="l00084"></a>00084 
<a name="l00090"></a>00090 <span class="keyword">struct </span>link * <a class="code" href="link_8h.html#8908af96a78489539f87f902b6f81500">link_accept</a>( <span class="keyword">struct</span> link *master, time_t stoptime );
<a name="l00091"></a>00091 
<a name="l00101"></a>00101 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#f9c7e19b655fcca15606a608c4e8e6a4">link_read</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length, time_t stoptime );
<a name="l00102"></a>00102 
<a name="l00112"></a>00112 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#7068a72deb99c8d28a4418892b5288f8">link_read_avail</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length, time_t stoptime );
<a name="l00113"></a>00113 
<a name="l00121"></a>00121 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#50751b2a3f1ffb811ee6b0fc2b97b6ac">link_write</a>( <span class="keyword">struct</span> link *link, <span class="keyword">const</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length, time_t stoptime );
<a name="l00122"></a>00122 
<a name="l00130"></a>00130 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#88872a9b3d0490d2f690e34486786ac5">link_usleep</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">int</span> usec, <span class="keywordtype">int</span> reading, <span class="keywordtype">int</span> writing );
<a name="l00131"></a>00131 
<a name="l00135"></a>00135 <span class="keywordtype">void</span> <a class="code" href="link_8h.html#78703bd2617ee9ad8241a827d073845a">link_close</a>( <span class="keyword">struct</span> link *link );
<a name="l00136"></a>00136 
<a name="l00148"></a>00148 <span class="keywordtype">void</span> <a class="code" href="link_8h.html#7045ffa5914a397e65ff2fe6383cf5fa">link_window_set</a>( <span class="keywordtype">int</span> send_window, <span class="keywordtype">int</span> recv_window );
<a name="l00149"></a>00149 
<a name="l00156"></a>00156 <span class="keywordtype">void</span> <a class="code" href="link_8h.html#7037bdee21acda4661afa54614fc917b">link_window_get</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">int</span> *send_window, <span class="keywordtype">int</span> *recv_window );
<a name="l00157"></a>00157 
<a name="l00169"></a>00169 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#943defddbb6a21a4b50c2fcb10693e10">link_readline</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> *line, <span class="keywordtype">int</span> length, time_t stoptime );
<a name="l00170"></a>00170 
<a name="l00175"></a>00175 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#97dac33660a5fb7333807bb90812a641">link_fd</a>( <span class="keyword">struct</span> link *link );
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="keywordtype">int</span>  link_nonblocking( <span class="keyword">struct</span> link *link, <span class="keywordtype">int</span> onoff );
<a name="l00178"></a>00178 
<a name="l00184"></a>00184 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#cc347b042e023a279eec60de1395e9ae">link_address_local</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> *addr, <span class="keywordtype">int</span> *port );
<a name="l00185"></a>00185 
<a name="l00191"></a>00191 <span class="keywordtype">int</span>  <a class="code" href="link_8h.html#b692af1dacd63beb4d333fb8b5d117dc">link_address_remote</a>( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> *addr, <span class="keywordtype">int</span> *port );
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 INT64_T link_stream_to_buffer( <span class="keyword">struct</span> link *link, <span class="keywordtype">char</span> **buffer, time_t stoptime );
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 INT64_T link_stream_to_fd( <span class="keyword">struct</span> link *link, <span class="keywordtype">int</span> fd, INT64_T length, time_t stoptime );
<a name="l00196"></a>00196 INT64_T link_stream_to_file( <span class="keyword">struct</span> link *link, FILE *file, INT64_T length, time_t stoptime );
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 INT64_T link_stream_from_fd( <span class="keyword">struct</span> link *link, <span class="keywordtype">int</span> fd, INT64_T length, time_t stoptime );
<a name="l00199"></a>00199 INT64_T link_stream_from_file( <span class="keyword">struct</span> link *link, FILE *file, INT64_T length, time_t stoptime );
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 INT64_T link_soak( <span class="keyword">struct</span> link *link, INT64_T length, time_t stoptime );
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00204"></a>00204         LINK_TUNE_INTERACTIVE,
<a name="l00205"></a>00205         LINK_TUNE_BULK
<a name="l00206"></a>00206 } link_tune_t;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208 <span class="keywordtype">int</span>  link_tune( <span class="keyword">struct</span> link *link, link_tune_t mode );
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="preprocessor">#define LINK_READ 1</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span><span class="preprocessor">#define LINK_WRITE 2</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>
<a name="l00213"></a>00213 <span class="keyword">struct </span>link_info {
<a name="l00214"></a>00214         <span class="keyword">struct </span>link *link;
<a name="l00215"></a>00215         <span class="keywordtype">int</span> events;
<a name="l00216"></a>00216         <span class="keywordtype">int</span> revents;
<a name="l00217"></a>00217 };
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="keywordtype">int</span>  link_poll( <span class="keyword">struct</span> link_info *array, <span class="keywordtype">int</span> nlinks, <span class="keywordtype">int</span> usec );
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="preprocessor">#endif</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span>
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Mar 29 15:56:18 2010 for cctools by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
